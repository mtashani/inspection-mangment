/**\n * Storybook Test Runner Configuration\n * Configures visual regression testing with Playwright\n */\n\nimport type { TestRunnerConfig } from '@storybook/test-runner'\nimport { checkA11y, injectAxe } from 'axe-playwright'\n\nconst config: TestRunnerConfig = {\n  setup() {\n    // Global setup for all tests\n  },\n  \n  async preRender(page, context) {\n    // Inject axe for accessibility testing\n    await injectAxe(page)\n    \n    // Wait for fonts to load\n    await page.waitForLoadState('networkidle')\n    \n    // Set viewport size for consistent screenshots\n    await page.setViewportSize({ width: 1200, height: 800 })\n    \n    // Wait for theme to be applied\n    await page.waitForTimeout(500)\n  },\n  \n  async postRender(page, context) {\n    // Run accessibility tests\n    await checkA11y(page, '#storybook-root', {\n      detailedReport: true,\n      detailedReportOptions: {\n        html: true,\n      },\n    })\n    \n    // Take screenshot for visual regression testing\n    const storyId = context.id\n    const screenshotPath = `screenshots/${storyId}.png`\n    \n    await page.screenshot({\n      path: screenshotPath,\n      fullPage: false,\n      clip: {\n        x: 0,\n        y: 0,\n        width: 1200,\n        height: 800\n      }\n    })\n  },\n  \n  tags: {\n    include: ['test'],\n    exclude: ['docs'],\n    skip: ['skip-test'],\n  },\n}\n\nexport default config"